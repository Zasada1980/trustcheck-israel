# ĞœĞ°Ğ½ÑƒĞ°Ğ»: ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Hetzner Cloud ÑĞµÑ€Ğ²ĞµÑ€Ğ° Ğ´Ğ»Ñ TrustCheck Israel

**Ğ”Ğ°Ñ‚Ğ°:** 22 Ğ´ĞµĞºĞ°Ğ±Ñ€Ñ 2025  
**ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ:** ĞŸĞ¾ÑˆĞ°Ğ³Ğ¾Ğ²Ğ°Ñ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ Ğ¾Ğ±Ğ»Ğ°Ñ‡Ğ½Ğ¾Ğ³Ğ¾ ÑĞµÑ€Ğ²ĞµÑ€Ğ° Ğ´Ğ»Ñ Ğ²ÑĞµÑ… 3 Ñ„Ğ°Ğ· Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°  
**Ğ¦ĞµĞ»ĞµĞ²Ğ°Ñ Ğ°ÑƒĞ´Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ñ:** DevOps-Ğ¸Ğ½Ğ¶ĞµĞ½ĞµÑ€Ñ‹, Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¸, Ğ²Ğ»Ğ°Ğ´ĞµĞ»ÑŒÑ†Ñ‹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°  

---

## ğŸ“‹ ĞĞ³Ğ»Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ

1. [Ğ’Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ](#1-Ğ²Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ)
2. [Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ² Hetzner Cloud](#2-Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ-Ğ²-hetzner-cloud)
3. [Ğ’Ñ‹Ğ±Ğ¾Ñ€ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾ Ñ„Ğ°Ğ·Ğ°Ğ¼](#3-Ğ²Ñ‹Ğ±Ğ¾Ñ€-ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸-Ğ¿Ğ¾-Ñ„Ğ°Ğ·Ğ°Ğ¼)
4. [Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ÑĞµÑ€Ğ²ĞµÑ€Ğ° (Step-by-Step)](#4-ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ-ÑĞµÑ€Ğ²ĞµÑ€Ğ°-step-by-step)
5. [ĞŸĞµÑ€Ğ²Ğ¸Ñ‡Ğ½Ğ°Ñ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° ÑĞµÑ€Ğ²ĞµÑ€Ğ°](#5-Ğ¿ĞµÑ€Ğ²Ğ¸Ñ‡Ğ½Ğ°Ñ-Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°-ÑĞµÑ€Ğ²ĞµÑ€Ğ°)
6. [Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¹ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ](#6-Ğ´ĞµĞ¿Ğ»Ğ¾Ğ¹-Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ)
7. [ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ´Ğ¾Ğ¼ĞµĞ½Ğ° Ğ¸ SSL](#7-Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°-Ğ´Ğ¾Ğ¼ĞµĞ½Ğ°-Ğ¸-ssl)
8. [ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ¸ Ğ±ÑĞºĞ°Ğ¿Ñ‹](#8-Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³-Ğ¸-Ğ±ÑĞºĞ°Ğ¿Ñ‹)
9. [ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (Upgrade)](#9-Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ-upgrade)
10. [Troubleshooting](#10-troubleshooting)

---

## 1. Ğ’Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ

### 1.1. ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Hetzner Cloud?

**ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ° Ğ´Ğ»Ñ TrustCheck Israel:**

| ĞšÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸Ğ¹ | Hetzner Cloud | Vercel | AWS EC2 | ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ¾ |
|----------|---------------|--------|---------|--------------|
| **Ğ¦ĞµĞ½Ğ° (Phase 1)** | â‚¬3.79/month | â‚¬20/month | ~$25/month | **81% Ğ´ĞµÑˆĞµĞ²Ğ»Ğµ** |
| **GDPR compliance** | âœ… EU (Germany) | âš ï¸ US (CloudFlare) | âš ï¸ Global | **ĞšÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ Ğ´Ğ»Ñ Ğ˜Ğ·Ñ€Ğ°Ğ¸Ğ»Ñ** |
| **Root access** | âœ… Full SSH | âŒ Serverless only | âœ… Full SSH | **Ğ“Ğ¸Ğ±ĞºĞ¾ÑÑ‚ÑŒ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸** |
| **Scalability** | âœ… 1â†’32GB RAM | âš ï¸ Vendor lock-in | âœ… Unlimited | **Ğ›ĞµĞ³ĞºĞ¾ upgrade** |
| **DDoS protection** | âœ… Included | âŒ Paid add-on | âŒ Separate service | **Ğ‘ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ°Ñ Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ°** |
| **Backup cost** | 20% (â‚¬0.76) | Included | ~$5/month | **ĞŸÑ€ĞµĞ´ÑĞºĞ°Ğ·ÑƒĞµĞ¼Ğ¾** |

**Ğ’ĞµÑ€Ğ´Ğ¸ĞºÑ‚:** Hetzner â€” Ğ»ÑƒÑ‡ÑˆĞ¸Ğ¹ Ğ²Ñ‹Ğ±Ğ¾Ñ€ Ğ´Ğ»Ñ bootstrapped ÑÑ‚Ğ°Ñ€Ñ‚Ğ°Ğ¿Ğ° Ñ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸ÑĞ¼Ğ¸ GDPR.

---

### 1.2. ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ½Ğ° Hetzner

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  CLOUDFLARE DNS + CDN                         â”‚
â”‚            (trustcheck.co.il â†’ Hetzner IP)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ HTTPS (SSL)
             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         HETZNER CLOUD SERVER (Nuremberg, Germany)            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  NGINX Reverse Proxy (Port 80/443)                     â”‚  â”‚
â”‚  â”‚  â€¢ SSL termination (Let's Encrypt)                     â”‚  â”‚
â”‚  â”‚  â€¢ Rate limiting (10 req/sec per IP)                   â”‚  â”‚
â”‚  â”‚  â€¢ Gzip compression                                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                â”‚                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  DOCKER CONTAINER: Next.js App (Port 3000)            â”‚  â”‚
â”‚  â”‚  â€¢ Node.js 20 runtime                                  â”‚  â”‚
â”‚  â”‚  â€¢ Environment variables (.env.production)            â”‚  â”‚
â”‚  â”‚  â€¢ PM2 process manager (auto-restart)                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                               â”‚
â”‚  Storage:                                                     â”‚
â”‚  â€¢ 20GB NVMe SSD (Phase 1: CX11)                            â”‚
â”‚  â€¢ Docker images: ~2GB                                       â”‚
â”‚  â€¢ Logs: /var/log (max 5GB, rotated)                       â”‚
â”‚  â€¢ Free space: ~13GB                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Supabase          â”‚  â”‚ CheckID API    â”‚  â”‚ OpenAI GPT-4 â”‚
    â”‚ (PostgreSQL)      â”‚  â”‚ (External)     â”‚  â”‚ (External)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ² Hetzner Cloud

### 2.1. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚Ğ°

1. **ĞŸĞµÑ€ĞµĞ¹Ñ‚Ğ¸:** https://console.hetzner.com/register
2. **Ğ—Ğ°Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ Ñ„Ğ¾Ñ€Ğ¼Ñƒ:**
   - Email: your-email@example.com
   - Password: Strong password (min 12 characters)
   - Company/Name: TrustCheck Israel
   - Country: Israel
3. **ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ´Ğ¸Ñ‚ÑŒ email** (check inbox)
4. **Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ğ»Ğ°Ñ‚Ñ‘Ğ¶Ğ½Ñ‹Ğ¹ Ğ¼ĞµÑ‚Ğ¾Ğ´:**
   - Credit Card (Visa/MasterCard)
   - PayPal
   - SEPA Direct Debit (Ğ´Ğ»Ñ EU)

**ĞŸĞµÑ€Ğ²Ñ‹Ğ¹ Ğ¼ĞµÑÑÑ†:** Hetzner Ğ´Ğ°Ñ‘Ñ‚ â‚¬20 ĞºÑ€ĞµĞ´Ğ¸Ñ‚ Ğ´Ğ»Ñ Ğ½Ğ¾Ğ²Ñ‹Ñ… ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ² (Ğ¿Ğ¾ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ ~5 Ğ¼ĞµÑÑÑ†ĞµĞ² CX11!)

---

### 2.2. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

1. **Login:** https://console.hetzner.com/
2. **Create Project:**
   - Name: `TrustCheck-Production`
   - Description: `Israel business reliability checks platform`
3. **Project ID:** ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¿Ñ€Ğ¸ÑĞ²Ğ°Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, `12831241`)

**Ğ’ĞĞ–ĞĞ:** Ğ’ÑĞµ ÑĞµÑ€Ğ²ĞµÑ€Ñ‹, networks, volumes Ğ´Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ğ±Ñ‹Ñ‚ÑŒ Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¼ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğµ Ğ´Ğ»Ñ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ.

---

## 3. Ğ’Ñ‹Ğ±Ğ¾Ñ€ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾ Ñ„Ğ°Ğ·Ğ°Ğ¼

### 3.1. Phase 1: MVP "Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ‚Ğ¾Ñ€" (4 Ğ½ĞµĞ´ĞµĞ»Ğ¸)

**Target:** 1,000 checks/Ğ¼ĞµÑÑÑ†, <500 concurrent users

**Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµĞ¼Ñ‹Ğ¹ ÑĞµÑ€Ğ²ĞµÑ€: CX11**

```
Server Type: CX11 (Intel/AMD vCPU)
â”œâ”€ vCPU: 1 shared core (fair-use policy)
â”œâ”€ RAM: 2 GB DDR4
â”œâ”€ Storage: 20 GB NVMe SSD (local RAID10)
â”œâ”€ Network: 20 TB traffic included (EU)
â”œâ”€ IPv4: 1 public IP
â”œâ”€ IPv6: /64 subnet (18,446,744,073,709,551,616 addresses!)
â””â”€ Price: â‚¬3.79/month (â‚¬0.0061/hour)

Ğ”Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ Ğ´Ğ»Ñ:
âœ… Next.js app (Node.js) - 500MB RAM
âœ… NGINX - 50MB RAM
âœ… Docker - 300MB RAM
âœ… System (Ubuntu) - 200MB RAM
âœ… Free buffer: ~950MB RAM
```

**Benchmark (expected performance):**
- Request handling: ~50 req/sec
- Concurrent connections: 200-300
- Database queries (Supabase external): No local overhead
- API calls (CheckID): Network-bound (not CPU)

**Cost:**
- Server: â‚¬3.79/month (~â‚ª14)
- Backup (optional): +â‚¬0.76/month (~â‚ª3)
- **Total: â‚¬4.55/month (~â‚ª17)**

---

### 3.2. Phase 2: Ğ¡ÑƒĞ´ĞµĞ±Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ + ĞœĞ¾Ğ½ĞµÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ (2 Ğ¼ĞµÑÑÑ†Ğ°)

**Target:** 5,000 checks/Ğ¼ĞµÑÑÑ†, 1,000 concurrent users

**Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµĞ¼Ñ‹Ğ¹ ÑĞµÑ€Ğ²ĞµÑ€: CPX11**

```
Server Type: CPX11 (AMD EPYC)
â”œâ”€ vCPU: 2 cores (shared, better burst)
â”œâ”€ RAM: 2 GB DDR4
â”œâ”€ Storage: 40 GB NVMe SSD
â”œâ”€ Network: 20 TB traffic included
â”œâ”€ IPv4: 1 public IP
â”œâ”€ IPv6: /64 subnet
â””â”€ Price: â‚¬4.99/month (â‚¬0.0080/hour)

Upgrade Ğ¿ÑƒÑ‚ÑŒ:
CX11 â†’ CPX11 (via "Rescale" Ğ² ĞºĞ¾Ğ½ÑĞ¾Ğ»Ğ¸)
Downtime: ~2 minutes (automatic reboot)
```

**ĞšĞ¾Ğ³Ğ´Ğ° Ğ°Ğ¿Ğ³Ñ€ĞµĞ¹Ğ´Ğ¸Ñ‚ÑŒ:**
- âœ… CPU usage >70% sustained (1 hour+)
- âœ… RAM usage >80%
- âœ… Response time >5 sec (99th percentile)
- âœ… >500 concurrent connections

**Cost:**
- Server: â‚¬4.99/month (~â‚ª18)
- Backup: +â‚¬1.00/month (~â‚ª4)
- **Total: â‚¬5.99/month (~â‚ª22)**

---

### 3.3. Phase 3: ĞšÑ€ĞµĞ´Ğ¸Ñ‚Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ + B2B (6 Ğ¼ĞµÑÑÑ†ĞµĞ²)

**Target:** 20,000 checks/Ğ¼ĞµÑÑÑ†, 3,000 concurrent users

**Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµĞ¼Ñ‹Ğ¹ ÑĞµÑ€Ğ²ĞµÑ€: CPX21**

```
Server Type: CPX21 (AMD EPYC)
â”œâ”€ vCPU: 3 cores (shared)
â”œâ”€ RAM: 4 GB DDR4
â”œâ”€ Storage: 80 GB NVMe SSD
â”œâ”€ Network: 20 TB traffic included
â”œâ”€ IPv4: 1 public IP
â”œâ”€ IPv6: /64 subnet
â””â”€ Price: â‚¬8.99/month (â‚¬0.0144/hour)

Ğ”Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ Ğ´Ğ»Ñ:
âœ… Next.js app - 1GB RAM
âœ… NGINX - 100MB RAM
âœ… Redis cache - 500MB RAM
âœ… Docker - 500MB RAM
âœ… System - 300MB RAM
âœ… Free buffer: ~1.6GB RAM
```

**ĞĞ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ° (ĞµÑĞ»Ğ¸ Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ):**
- **CPX31:** 4 cores, 8GB RAM, 160GB SSD â†’ â‚¬17.49/month
- **Dedicated CCX13:** 2 dedicated cores, 8GB RAM â†’ â‚¬19.99/month (Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ°Ñ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ)

**Cost:**
- Server: â‚¬8.99/month (~â‚ª33)
- Backup: +â‚¬1.80/month (~â‚ª7)
- **Total: â‚¬10.79/month (~â‚ª40)**

---

### 3.4. Ğ¡Ñ€Ğ°Ğ²Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ°

| Ğ¤Ğ°Ğ·Ğ° | Server | vCPU | RAM | SSD | Price | Users | Checks/month |
|------|--------|------|-----|-----|-------|-------|--------------|
| **Phase 1** | CX11 | 1 | 2GB | 20GB | **â‚¬3.79** | <500 | 1,000 |
| **Phase 2** | CPX11 | 2 | 2GB | 40GB | **â‚¬4.99** | 1,000 | 5,000 |
| **Phase 3** | CPX21 | 3 | 4GB | 80GB | **â‚¬8.99** | 3,000 | 20,000 |
| **Scale-up** | CPX31 | 4 | 8GB | 160GB | **â‚¬17.49** | 10,000 | 50,000+ |

**Ğ˜Ñ‚Ğ¾Ğ³Ğ¾ Ğ·Ğ° Year 1 (ĞµÑĞ»Ğ¸ Ğ¸Ğ´ĞµĞ°Ğ»ÑŒĞ½Ğ¾):**
- Months 1-3 (Phase 1): â‚¬3.79 Ã— 3 = â‚¬11.37
- Months 4-5 (Phase 2): â‚¬4.99 Ã— 2 = â‚¬9.98
- Months 6-12 (Phase 3): â‚¬8.99 Ã— 7 = â‚¬62.93
- **Total Year 1: â‚¬84.28 (~â‚ª310)** â€” Ğ´ĞµÑˆĞµĞ²Ğ»Ğµ 1 Ğ¼ĞµÑÑÑ†Ğ° Vercel Pro!

---

## 4. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ÑĞµÑ€Ğ²ĞµÑ€Ğ° (Step-by-Step)

### 4.1. ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Ñ„Ğ¾Ñ€Ğ¼Ñƒ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ

1. **Login:** https://console.hetzner.com/
2. **Select Project:** `TrustCheck-Production`
3. **Menu:** `Servers` (Ğ»ĞµĞ²Ğ°Ñ Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ)
4. **Click:** `ADD SERVER` (ĞºÑ€Ğ°ÑĞ½Ğ°Ñ ĞºĞ½Ğ¾Ğ¿ĞºĞ°)

---

### 4.2. Location (Ğ›Ğ¾ĞºĞ°Ñ†Ğ¸Ñ)

**ğŸŒ Ğ’Ñ‹Ğ±Ğ¾Ñ€ Ğ´Ğ°Ñ‚Ğ°Ñ†ĞµĞ½Ñ‚Ñ€Ğ°:**

| Location | Code | Latency (Israel) | GDPR | Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ñ |
|----------|------|------------------|------|--------------|
| **Nuremberg, Germany** | `nbg1` | ~80ms | âœ… EU | **âœ… Ğ Ğ•ĞšĞĞœĞ•ĞĞ”Ğ£Ğ•Ğ¢Ğ¡Ğ¯** |
| **Falkenstein, Germany** | `fsn1` | ~85ms | âœ… EU | âœ… ĞĞ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ° |
| **Helsinki, Finland** | `hel1` | ~100ms | âœ… EU | âš ï¸ Ğ”Ğ°Ğ»ÑŒÑˆĞµ |
| **Ashburn, USA** | `ash` | ~180ms | âŒ US | âŒ ĞĞ• GDPR |
| **Hillsboro, USA** | `hil` | ~200ms | âŒ US | âŒ ĞĞ• GDPR |

**Ğ’Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ:** `Nuremberg (nbg1)` â€” Ğ±Ğ»Ğ¸Ğ¶Ğ°Ğ¹ÑˆĞ¸Ğ¹ EU Ğ´Ğ°Ñ‚Ğ°Ñ†ĞµĞ½Ñ‚Ñ€ Ğº Ğ˜Ğ·Ñ€Ğ°Ğ¸Ğ»Ñ.

**Ğ’ĞĞ–ĞĞ:** ĞŸĞ¾ÑĞ»Ğµ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ ÑĞµÑ€Ğ²ĞµÑ€Ğ° Ğ»Ğ¾ĞºĞ°Ñ†Ğ¸Ñ ĞĞ•Ğ›Ğ¬Ğ—Ğ¯ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ (Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ÑƒĞ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ·Ğ°Ğ½Ğ¾Ğ²Ğ¾).

---

### 4.3. Image (ĞĞ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ğ°Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°)

**Ğ’Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ:** `OS Images`

**Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµĞ¼Ğ°Ñ OS: Ubuntu 24.04 LTS**

```
Operating System: Ubuntu 24.04 LTS
â”œâ”€ Version: Noble Numbat (latest)
â”œâ”€ Kernel: Linux 6.8+
â”œâ”€ Support: Long-Term Support (Ğ´Ğ¾ 2029)
â”œâ”€ Package manager: apt
â””â”€ Default user: root (SSH key required)

ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Ubuntu 24.04?
âœ… LTS (5 Ğ»ĞµÑ‚ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğ¹ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚Ğ¸)
âœ… Ğ¨Ğ¸Ñ€Ğ¾ĞºĞ°Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° (Docker, Node.js, etc.)
âœ… Ğ‘Ğ¾Ğ»ÑŒÑˆĞ¾Ğµ ĞºĞ¾Ğ¼ÑŒÑĞ½Ğ¸Ñ‚Ğ¸ (Ğ»ĞµĞ³ĞºĞ¾ Ğ½Ğ°Ğ¹Ñ‚Ğ¸ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ)
âœ… ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ security updates
```

**ĞĞ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ñ‹:**
- **Debian 12:** Ğ‘Ğ¾Ğ»ĞµĞµ ÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ğ°Ñ (Ğ´Ğ»Ñ ĞºĞ¾Ğ½ÑĞµÑ€Ğ²Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ²)
- **Rocky Linux 9:** ĞĞ½Ğ°Ğ»Ğ¾Ğ³ CentOS (Ğ´Ğ»Ñ enterprise)
- **Fedora 40:** ĞĞ¾Ğ²ĞµĞ¹ÑˆĞ¸Ğµ Ñ„Ğ¸Ñ‡Ğ¸ (Ğ´Ğ»Ñ ÑĞºÑĞ¿ĞµÑ€Ğ¸Ğ¼ĞµĞ½Ñ‚Ğ¾Ğ²)

**ĞĞ• Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ:**
- âŒ Windows Server (Ğ½ÑƒĞ¶Ğ½Ğ° Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ»Ğ¸Ñ†ĞµĞ½Ğ·Ğ¸Ñ ~$10/month)
- âŒ FreeBSD (Ğ½ĞµÑ‚ Docker support)

---

### 4.4. Type (Ğ¢Ğ¸Ğ¿ ÑĞµÑ€Ğ²ĞµÑ€Ğ°)

**Ğ’Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ:** `Shared vCPU` (Ğ´Ğ»Ñ Phase 1)

**Ğ’Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ¿Ğ»Ğ°Ğ½:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CX11 â€” Shared Regular Performance              â”‚
â”‚                                                  â”‚
â”‚  vCPU: 1 (Intel/AMD)                            â”‚
â”‚  RAM: 2 GB                                       â”‚
â”‚  SSD: 20 GB NVMe                                 â”‚
â”‚  Traffic: 20 TB                                  â”‚
â”‚                                                  â”‚
â”‚  â‚¬3.79/month (â‚¬0.0061/hour)                     â”‚
â”‚                                                  â”‚
â”‚  [ SELECT ]                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Ğ§Ñ‚Ğ¾ Ñ‚Ğ°ĞºĞ¾Ğµ "Shared vCPU"?**
- CPU cores Ñ€Ğ°Ğ·Ğ´ĞµĞ»ÑÑÑ‚ÑÑ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ğ¼Ğ¸ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°Ğ¼Ğ¸ Ğ½Ğ° Ğ¾Ğ´Ğ½Ğ¾Ğ¼ Ñ„Ğ¸Ğ·Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¼ ÑĞµÑ€Ğ²ĞµÑ€Ğµ
- Fair-use policy: Ğ•ÑĞ»Ğ¸ ÑĞ¾ÑĞµĞ´ Ğ½Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚ CPU Ğ½Ğ° 100%, Ğ²Ğ°ÑˆĞ° Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ¼Ğ¾Ğ¶ĞµÑ‚ ÑĞ½Ğ¸Ğ·Ğ¸Ñ‚ÑŒÑÑ
- **ĞŸĞ¾Ğ´Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ´Ğ»Ñ:** Development, Ğ½ĞµĞ±Ğ¾Ğ»ÑŒÑˆĞ¸Ğµ production (Ğ´Ğ¾ 5K users)

**ĞšĞ¾Ğ³Ğ´Ğ° Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ğ¸Ñ‚ÑŒ Ğ½Ğ° Dedicated?**
- âœ… Ğ•ÑĞ»Ğ¸ CPU usage >80% sustained
- âœ… Ğ•ÑĞ»Ğ¸ Ğ½ÑƒĞ¶Ğ½Ğ° predictable performance (Ñ„Ğ¸Ğ½Ğ°Ğ½ÑĞ¾Ğ²Ñ‹Ğµ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ñ‹, ML)
- âœ… Ğ•ÑĞ»Ğ¸ budget >â‚¬20/month

**Dedicated Ğ°Ğ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ°:**
- **CCX13:** 2 dedicated cores, 8GB RAM, 80GB SSD â†’ â‚¬19.99/month

---

### 4.5. Networking (Ğ¡ĞµÑ‚ÑŒ)

**ĞĞ¿Ñ†Ğ¸Ñ 1: Public IPv4 + IPv6 (Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ)**

```
[âœ“] Public IPv4
[âœ“] Public IPv6

Result:
â€¢ IPv4: 1 address (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, 88.99.123.45)
â€¢ IPv6: /64 subnet (18+ ĞºĞ²Ğ¸Ğ½Ñ‚Ğ¸Ğ»Ğ»Ğ¸Ğ¾Ğ½Ğ¾Ğ² Ğ°Ğ´Ñ€ĞµÑĞ¾Ğ²)

Use case: Standard web server (HTTPS)
Cost: â‚¬0.59/month Ğ·Ğ° IPv4 (included in first month)
```

**Ğ’ĞĞ–ĞĞ:** Ğ¡ 2024 Ğ³Ğ¾Ğ´Ğ° Hetzner Ğ²Ğ·Ğ¸Ğ¼Ğ°ĞµÑ‚ â‚¬0.59/month Ğ·Ğ° ĞšĞĞ–Ğ”Ğ«Ğ™ IPv4 (Ğ´ĞµÑ„Ğ¸Ñ†Ğ¸Ñ‚ Ğ°Ğ´Ñ€ĞµÑĞ¾Ğ²).

**ĞĞ¿Ñ†Ğ¸Ñ 2: Only IPv6 (ÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ â‚¬0.59/month)**
```
[âœ—] Public IPv4
[âœ“] Public IPv6

Savings: â‚¬0.59/month
BUT: Requires Cloudflare IPv6â†’IPv4 proxy (ÑĞ»Ğ¾Ğ¶Ğ½ĞµĞµ)
```

**Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ñ Ğ´Ğ»Ñ TrustCheck:** **Ğ’Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ IPv4 + IPv6** (ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ°Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ).

---

#### SSH Key (ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§ĞĞ!)

**ĞĞ‘Ğ¯Ğ—ĞĞ¢Ğ•Ğ›Ğ¬ĞĞ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ SSH key!** Ğ‘ĞµĞ· Ğ½ĞµĞ³Ğ¾ Ğ½Ğµ Ğ±ÑƒĞ´ĞµÑ‚ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° Ğº ÑĞµÑ€Ğ²ĞµÑ€Ñƒ.

**Ğ•ÑĞ»Ğ¸ Ñƒ Ğ²Ğ°Ñ ÑƒĞ¶Ğµ ĞµÑÑ‚ÑŒ SSH key:**
1. Click `Add SSH Key`
2. Paste public key (Ñ„Ğ°Ğ¹Ğ» `~/.ssh/id_rsa.pub`)
3. Name: `My Laptop Key`

**Ğ•ÑĞ»Ğ¸ Ğ½ĞµÑ‚ SSH key:**
```powershell
# Windows PowerShell (Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ ĞºĞ»ÑÑ‡Ğ°)
ssh-keygen -t ed25519 -C "trustcheck-server"

# Enter file: C:\Users\YourName\.ssh\id_ed25519
# Enter passphrase: [strong password]

# Ğ¡ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ public key
Get-Content C:\Users\YourName\.ssh\id_ed25519.pub | Set-Clipboard

# Paste Ğ² Hetzner Ñ„Ğ¾Ñ€Ğ¼Ñƒ
```

**Ğ’ĞĞ–ĞĞ:** Ğ‘ĞµĞ· SSH key Hetzner Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ root password Ğ¿Ğ¾ email (Ğ½ĞµĞ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾!).

---

#### Private Network (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)

**Ğ”Ğ»Ñ Phase 1:** ĞĞ• Ğ½ÑƒĞ¶Ğ½Ğ¾ (Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ 1 ÑĞµÑ€Ğ²ĞµÑ€).

**Ğ”Ğ»Ñ Phase 3 (Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ):**
- Create Network: `trustcheck-private-net`
- Subnet: `10.0.0.0/24` (254 IP Ğ°Ğ´Ñ€ĞµÑĞ°)
- Use case: Backend server â†” Database server (Ğ¸Ğ·Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ°Ñ ÑĞµÑ‚ÑŒ)

---

### 4.6. Volumes (Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğµ Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ)

**Ğ”Ğ»Ñ Phase 1:** **ĞĞ• Ğ½ÑƒĞ¶Ğ½Ğ¾** (20GB SSD Ğ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾).

**ĞšĞ¾Ğ³Ğ´Ğ° Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑÑ‚ÑŒ Volume:**
- âœ… Ğ•ÑĞ»Ğ¸ Ğ½ÑƒĞ¶Ğ½Ğ¾ Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ğ»Ğ¾Ğ³Ğ¸ >5GB
- âœ… Ğ•ÑĞ»Ğ¸ Ğ½ÑƒĞ¶Ğ½Ğ¾ Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ user uploads (Ñ„Ğ°Ğ¹Ğ»Ñ‹)
- âœ… Ğ•ÑĞ»Ğ¸ SSD Ğ·Ğ°Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½ >80%

**Pricing:** â‚¬0.044/GB/month
- 10GB Volume = â‚¬0.44/month
- 100GB Volume = â‚¬4.40/month

---

### 4.7. Firewalls (Ğ‘Ñ€Ğ°Ğ½Ğ´Ğ¼Ğ°ÑƒÑÑ€)

**Ğ”Ğ»Ñ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚Ğ¸:** **ĞĞ‘Ğ¯Ğ—ĞĞ¢Ğ•Ğ›Ğ¬ĞĞ ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Firewall!**

**Click:** `Create Firewall`

**ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° (Inbound):**

| Rule | Protocol | Port | Source | Action | Purpose |
|------|----------|------|--------|--------|---------|
| **SSH** | TCP | 22 | `0.0.0.0/0` (All IPs) | Allow | Remote access |
| **HTTP** | TCP | 80 | `0.0.0.0/0` | Allow | Web traffic (redirect to HTTPS) |
| **HTTPS** | TCP | 443 | `0.0.0.0/0` | Allow | Web traffic (SSL) |
| **ICMP** | ICMP | â€” | `0.0.0.0/0` | Allow | Ping (monitoring) |
| **ALL OTHER** | â€” | â€” | â€” | **Deny** | Block everything else |

**ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° (Outbound):**
```
[âœ“] Allow all outbound traffic

Why: Server needs to:
â€¢ Download packages (apt-get)
â€¢ Call CheckID API
â€¢ Call OpenAI API
â€¢ Update SSL certificates
```

**Apply to:** `trustcheck-production-server`

---

### 4.8. Backups (Ğ‘ÑĞºĞ°Ğ¿Ñ‹)

**ĞĞ¿Ñ†Ğ¸Ñ:** Automated Backups

```
[âœ“] Enable Backups

Cost: 20% of server price
â€¢ CX11: +â‚¬0.76/month
â€¢ CPX11: +â‚¬1.00/month
â€¢ CPX21: +â‚¬1.80/month

Features:
â€¢ Daily automated snapshots (7 slots)
â€¢ Retention: 7 days
â€¢ Restore time: ~5 minutes
â€¢ Use case: Disaster recovery
```

**Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ñ Ğ´Ğ»Ñ Phase 1:** **Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ backups** (â‚¬0.76/month â€” Ğ´ĞµÑˆÑ‘Ğ²Ğ°Ñ ÑÑ‚Ñ€Ğ°Ñ…Ğ¾Ğ²ĞºĞ°).

**ĞĞ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ° (ĞµÑĞ»Ğ¸ tight budget):**
- Manual Snapshots (â‚¬0.011/GB/month)
- Git-based deploy (Ğ²Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ·Ğ° 10 Ğ¼Ğ¸Ğ½ÑƒÑ‚)

---

### 4.9. Placement Groups (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)

**Ğ”Ğ»Ñ Phase 1:** ĞĞ• Ğ½ÑƒĞ¶Ğ½Ğ¾ (Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ 1 ÑĞµÑ€Ğ²ĞµÑ€).

**Use case:** High Availability (HA) Ñ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ğ¼Ğ¸ ÑĞµÑ€Ğ²ĞµÑ€Ğ°Ğ¼Ğ¸.

---

### 4.10. Labels (ĞœĞµÑ‚ĞºĞ¸)

**Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ´Ğ»Ñ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸:**

```
environment = production
project = trustcheck
phase = 1
```

**Use case:** Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ² dashboard, Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ (API/CLI).

---

### 4.11. Cloud-config (ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ)

**Ğ”Ğ»Ñ Ğ¾Ğ¿Ñ‹Ñ‚Ğ½Ñ‹Ñ…:** Cloud-init script Ğ´Ğ»Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¹ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¿Ğ¾ÑĞ»Ğµ boot.

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ (Phase 1):**
```yaml
#cloud-config
package_update: true
package_upgrade: true
packages:
  - docker.io
  - docker-compose
  - nginx
  - certbot
  - python3-certbot-nginx
runcmd:
  - systemctl enable docker
  - systemctl start docker
  - ufw allow 22/tcp
  - ufw allow 80/tcp
  - ufw allow 443/tcp
  - ufw --force enable
```

**Ğ”Ğ»Ñ Ğ½Ğ¾Ğ²Ğ¸Ñ‡ĞºĞ¾Ğ²:** **ĞÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¿ÑƒÑÑ‚Ñ‹Ğ¼** (Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¸Ğ¼ Ğ²Ñ€ÑƒÑ‡Ğ½ÑƒÑ Ğ¿Ğ¾ÑĞ»Ğµ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ).

---

### 4.12. Name (Ğ˜Ğ¼Ñ ÑĞµÑ€Ğ²ĞµÑ€Ğ°)

**Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ RFC 1123:**
- Only: `a-z`, `0-9`, `-`, `.`
- First character: letter or digit
- Last character: NOT `-` or `.`
- Max length: 63 characters
- Case insensitive

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ (good):**
- âœ… `trustcheck-prod-web1`
- âœ… `tc-phase1-nbg1`
- âœ… `web.trustcheck.co.il`

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ (bad):**
- âŒ `TrustCheck_Production` (underscore)
- âŒ `-trustcheck` (starts with -)
- âŒ `trustcheck.` (ends with .)

**Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ñ:** `trustcheck-prod-phase1`

---

### 4.13. ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ÑĞµÑ€Ğ²ĞµÑ€Ğ¾Ğ²

**Ğ”Ğ»Ñ Phase 1:** `1 server`

**Phase 3 (Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ):**
- Web server Ã— 2 (Load Balancer)
- Database server Ã— 1 (Postgres primary)
- Redis cache server Ã— 1

---

### 4.14. Ğ˜Ñ‚Ğ¾Ğ³Ğ¾Ğ²Ğ°Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ (Review)

```
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  SERVER SUMMARY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Name: trustcheck-prod-phase1
  
  Location: Nuremberg (nbg1), Germany
  
  Image: Ubuntu 24.04 LTS
  
  Type: CX11 (Shared vCPU)
    â€¢ 1 vCPU (Intel/AMD)
    â€¢ 2 GB RAM
    â€¢ 20 GB NVMe SSD
    â€¢ 20 TB traffic
  
  Network:
    â€¢ IPv4: 88.99.123.45 (example)
    â€¢ IPv6: 2a01:4f8:c012:abc::/64
  
  Firewall: trustcheck-firewall
    â€¢ Allow: SSH (22), HTTP (80), HTTPS (443)
  
  Backups: Enabled (+â‚¬0.76/month)
  
  SSH Key: my-laptop-key
  
  Labels:
    â€¢ environment = production
    â€¢ project = trustcheck
    â€¢ phase = 1
  
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  COST ESTIMATE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Server (CX11): â‚¬3.79/month
  IPv4: â‚¬0.59/month (first month free)
  Backups: â‚¬0.76/month
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  TOTAL: â‚¬5.14/month (~â‚ª19/month)
  
  Hourly: â‚¬0.0082/hour (if deleted mid-month)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

**Click:** `CREATE & BUY NOW` ğŸš€

---

### 4.15. Ğ§Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ¿Ğ¾ÑĞ»Ğµ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ?

```
1. [Provisioning] Server creation started... (0 sec)
2. [Network] Assigning IP addresses... (5 sec)
3. [OS] Installing Ubuntu 24.04... (30 sec)
4. [SSH] Adding SSH keys... (5 sec)
5. [Firewall] Applying rules... (10 sec)
6. [Boot] Starting server... (15 sec)
   âœ… Server is RUNNING! (Total: ~1 minute)
```

**ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚Ğµ:**
- âœ… Public IPv4: `88.99.123.45`
- âœ… Public IPv6: `2a01:4f8:c012:abc::1`
- âœ… Root access: `ssh root@88.99.123.45`

---

## 5. ĞŸĞµÑ€Ğ²Ğ¸Ñ‡Ğ½Ğ°Ñ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° ÑĞµÑ€Ğ²ĞµÑ€Ğ°

### 5.1. ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾ SSH

```powershell
# Windows PowerShell
ssh root@88.99.123.45

# Ğ•ÑĞ»Ğ¸ SSH key Ñ passphrase:
# Enter passphrase for key 'C:\Users\...\id_ed25519': [password]

# Ğ£ÑĞ¿ĞµÑˆĞ½Ğ¾Ğµ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ:
Welcome to Ubuntu 24.04 LTS (GNU/Linux 6.8.0-49-generic x86_64)

root@trustcheck-prod-phase1:~#
```

---

### 5.2. System Update (ĞĞ‘Ğ¯Ğ—ĞĞ¢Ğ•Ğ›Ğ¬ĞĞ!)

```bash
# Update package lists
apt update

# Upgrade installed packages
apt upgrade -y

# Install essential tools
apt install -y curl wget git vim ufw fail2ban htop

# Reboot if kernel updated
reboot
```

**Time:** ~5 Ğ¼Ğ¸Ğ½ÑƒÑ‚

---

### 5.3. Firewall (UFW) Configuration

```bash
# Enable UFW (uncomplicated firewall)
ufw default deny incoming
ufw default allow outgoing

# Allow SSH (IMPORTANT: before enabling!)
ufw allow 22/tcp

# Allow HTTP/HTTPS
ufw allow 80/tcp
ufw allow 443/tcp

# Enable firewall
ufw --force enable

# Check status
ufw status verbose

# Expected output:
# Status: active
# To                         Action      From
# --                         ------      ----
# 22/tcp                     ALLOW       Anywhere
# 80/tcp                     ALLOW       Anywhere
# 443/tcp                    ALLOW       Anywhere
```

---

### 5.4. Fail2Ban (Ğ—Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ¾Ñ‚ brute-force)

```bash
# Install Fail2Ban
apt install -y fail2ban

# Configure for SSH
cat > /etc/fail2ban/jail.local <<EOF
[sshd]
enabled = true
port = 22
filter = sshd
logpath = /var/log/auth.log
maxretry = 3
bantime = 3600
findtime = 600
EOF

# Restart Fail2Ban
systemctl restart fail2ban
systemctl enable fail2ban

# Check status
fail2ban-client status sshd

# Expected: 0 currently banned IPs
```

**Ğ§Ñ‚Ğ¾ Ğ´ĞµĞ»Ğ°ĞµÑ‚:**
- Ğ‘Ğ»Ğ¾ĞºĞ¸Ñ€ÑƒĞµÑ‚ IP Ğ¿Ğ¾ÑĞ»Ğµ 3 Ğ½ĞµÑƒĞ´Ğ°Ñ‡Ğ½Ñ‹Ñ… Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚Ğ¾Ğº Ğ»Ğ¾Ğ³Ğ¸Ğ½Ğ°
- Ban Ğ½Ğ° 1 Ñ‡Ğ°Ñ (3600 ÑĞµĞºÑƒĞ½Ğ´)
- Ğ—Ğ°Ñ‰Ğ¸Ñ‰Ğ°ĞµÑ‚ Ğ¾Ñ‚ brute-force Ğ°Ñ‚Ğ°Ğº

---

### 5.5. Docker Installation

```bash
# Install Docker (official script)
curl -fsSL https://get.docker.com -o get-docker.sh
sh get-docker.sh

# Start Docker
systemctl start docker
systemctl enable docker

# Verify installation
docker --version
# Expected: Docker version 24.0+

# Test Docker
docker run hello-world

# Expected output:
# Hello from Docker!
# This message shows that your installation appears to be working correctly.
```

---

### 5.6. Docker Compose Installation

```bash
# Install Docker Compose plugin
apt install -y docker-compose-plugin

# Verify
docker compose version
# Expected: Docker Compose version v2.20+
```

---

### 5.7. Create Application User (Security)

```bash
# Create non-root user for app
useradd -m -s /bin/bash trustcheck
usermod -aG docker trustcheck

# Set password (optional)
passwd trustcheck

# Add to sudoers (optional)
usermod -aG sudo trustcheck

# Test user
su - trustcheck
whoami
# Expected: trustcheck

exit
```

**Best practice:** Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ´ `trustcheck` Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¼, ĞĞ• `root`.

---

### 5.8. Setup Application Directory

```bash
# Create app directory
mkdir -p /opt/trustcheck
chown trustcheck:trustcheck /opt/trustcheck

# Switch to app user
su - trustcheck
cd /opt/trustcheck

# Clone repository (example)
git clone https://github.com/your-org/trustcheck-israel.git .

# Or create from scratch
mkdir -p app
cd app
```

---

## 6. Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¹ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ

### 6.1. Dockerfile (Next.js Production)

```dockerfile
# /opt/trustcheck/Dockerfile
FROM node:20-alpine AS base

# Install dependencies only when needed
FROM base AS deps
RUN apk add --no-cache libc6-compat
WORKDIR /app

# Copy package files
COPY package.json package-lock.json* ./
RUN npm ci

# Rebuild the source code only when needed
FROM base AS builder
WORKDIR /app
COPY --from=deps /app/node_modules ./node_modules
COPY . .

# Build Next.js
ENV NEXT_TELEMETRY_DISABLED 1
RUN npm run build

# Production image
FROM base AS runner
WORKDIR /app

ENV NODE_ENV production
ENV NEXT_TELEMETRY_DISABLED 1

RUN addgroup --system --gid 1001 nodejs
RUN adduser --system --uid 1001 nextjs

# Copy built files
COPY --from=builder /app/public ./public
COPY --from=builder --chown=nextjs:nodejs /app/.next/standalone ./
COPY --from=builder --chown=nextjs:nodejs /app/.next/static ./.next/static

USER nextjs

EXPOSE 3000

ENV PORT 3000
ENV HOSTNAME "0.0.0.0"

CMD ["node", "server.js"]
```

---

### 6.2. Docker Compose (Production Stack)

```yaml
# /opt/trustcheck/docker-compose.yml
version: '3.8'

services:
  app:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: trustcheck-app
    restart: unless-stopped
    ports:
      - "3000:3000"
    environment:
      - NODE_ENV=production
      - CHECKID_API_KEY=${CHECKID_API_KEY}
      - OPENAI_API_KEY=${OPENAI_API_KEY}
      - STRIPE_SECRET_KEY=${STRIPE_SECRET_KEY}
      - DATABASE_URL=${DATABASE_URL}
    networks:
      - trustcheck-net
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  nginx:
    image: nginx:alpine
    container_name: trustcheck-nginx
    restart: unless-stopped
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf:ro
      - ./ssl:/etc/nginx/ssl:ro
      - /var/log/nginx:/var/log/nginx
    depends_on:
      - app
    networks:
      - trustcheck-net

networks:
  trustcheck-net:
    driver: bridge
```

---

### 6.3. Environment Variables

```bash
# /opt/trustcheck/.env.production
NODE_ENV=production

# CheckID API
CHECKID_API_KEY=your-checkid-key-here

# OpenAI
OPENAI_API_KEY=sk-proj-your-key-here
OPENAI_MODEL=gpt-4-turbo-preview

# Stripe
STRIPE_PUBLIC_KEY=pk_live_...
STRIPE_SECRET_KEY=sk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Database (Supabase)
DATABASE_URL=postgresql://postgres:password@db.xxx.supabase.co:5432/postgres
DIRECT_URL=postgresql://postgres:password@db.xxx.supabase.co:5432/postgres

# App Config
NEXT_PUBLIC_APP_URL=https://trustcheck.co.il
```

**Ğ’ĞĞ–ĞĞ:** Ğ¤Ğ°Ğ¹Ğ» `.env.production` ĞĞ• ĞºĞ¾Ğ¼Ğ¼Ğ¸Ñ‚Ğ¸Ñ‚ÑŒ Ğ² Git! Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ² `.gitignore`.

---

### 6.4. Build Ğ¸ Deploy

```bash
# Build Docker image
docker compose build

# Start services
docker compose up -d

# Check logs
docker compose logs -f app

# Expected output:
# âœ“ Ready in 2.3s
# âœ“ Local: http://0.0.0.0:3000
# âœ“ Network: http://172.18.0.2:3000
```

---

### 6.5. NGINX Configuration

```nginx
# /opt/trustcheck/nginx.conf
events {
    worker_connections 1024;
}

http {
    upstream nextjs {
        server app:3000;
    }

    # Rate limiting
    limit_req_zone $binary_remote_addr zone=api:10m rate=10r/s;

    server {
        listen 80;
        server_name trustcheck.co.il www.trustcheck.co.il;

        # Redirect HTTP â†’ HTTPS
        return 301 https://$host$request_uri;
    }

    server {
        listen 443 ssl http2;
        server_name trustcheck.co.il www.trustcheck.co.il;

        # SSL certificates (Let's Encrypt)
        ssl_certificate /etc/nginx/ssl/fullchain.pem;
        ssl_certificate_key /etc/nginx/ssl/privkey.pem;

        # SSL settings
        ssl_protocols TLSv1.2 TLSv1.3;
        ssl_ciphers HIGH:!aNULL:!MD5;
        ssl_prefer_server_ciphers on;

        # Gzip compression
        gzip on;
        gzip_types text/plain text/css application/json application/javascript;

        location / {
            proxy_pass http://nextjs;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection 'upgrade';
            proxy_set_header Host $host;
            proxy_cache_bypass $http_upgrade;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;

            # Rate limiting (10 req/sec per IP)
            limit_req zone=api burst=20 nodelay;
        }

        # Health check endpoint
        location /health {
            access_log off;
            return 200 "OK";
            add_header Content-Type text/plain;
        }
    }
}
```

---

## 7. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ´Ğ¾Ğ¼ĞµĞ½Ğ° Ğ¸ SSL

### 7.1. DNS (Cloudflare)

**ĞŸÑ€ĞµĞ´Ğ¿Ğ¾Ğ»Ğ°Ğ³Ğ°ĞµÑ‚ÑÑ:** Ğ”Ğ¾Ğ¼ĞµĞ½ `trustcheck.co.il` Ğ·Ğ°Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ Ğ² Cloudflare.

**DNS Records:**

| Type | Name | Content | Proxy | TTL |
|------|------|---------|-------|-----|
| A | `@` | `88.99.123.45` (Hetzner IP) | â˜ï¸ Proxied | Auto |
| A | `www` | `88.99.123.45` | â˜ï¸ Proxied | Auto |
| AAAA | `@` | `2a01:4f8:c012:abc::1` (IPv6) | â˜ï¸ Proxied | Auto |

**Cloudflare Settings:**
- SSL/TLS: `Full (strict)`
- Always Use HTTPS: `On`
- Auto Minify: `On` (HTML, CSS, JS)
- Brotli: `On`

---

### 7.2. SSL Certificate (Let's Encrypt)

```bash
# Install Certbot
apt install -y certbot python3-certbot-nginx

# Stop NGINX temporarily
docker compose stop nginx

# Obtain certificate
certbot certonly --standalone -d trustcheck.co.il -d www.trustcheck.co.il \
    --email your-email@example.com \
    --agree-tos \
    --no-eff-email

# Expected output:
# Successfully received certificate.
# Certificate is saved at: /etc/letsencrypt/live/trustcheck.co.il/fullchain.pem
# Key is saved at: /etc/letsencrypt/live/trustcheck.co.il/privkey.pem

# Copy certificates to Docker volume
mkdir -p /opt/trustcheck/ssl
cp /etc/letsencrypt/live/trustcheck.co.il/fullchain.pem /opt/trustcheck/ssl/
cp /etc/letsencrypt/live/trustcheck.co.il/privkey.pem /opt/trustcheck/ssl/

# Restart NGINX
docker compose up -d nginx

# Test SSL
curl -I https://trustcheck.co.il
# Expected: HTTP/2 200
```

---

### 7.3. Auto-renewal (Cron Job)

```bash
# Test renewal (dry-run)
certbot renew --dry-run

# Add cron job for auto-renewal
crontab -e

# Add line (renew every day at 3 AM):
0 3 * * * certbot renew --quiet --post-hook "cp /etc/letsencrypt/live/trustcheck.co.il/*.pem /opt/trustcheck/ssl/ && docker compose -f /opt/trustcheck/docker-compose.yml restart nginx"
```

---

## 8. ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ¸ Ğ±ÑĞºĞ°Ğ¿Ñ‹

### 8.1. Server Monitoring (Hetzner Console)

**Metrics Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹:** https://console.hetzner.com/projects/12831241/servers

- CPU usage (%)
- RAM usage (%)
- Disk I/O (MB/s)
- Network traffic (GB)

**Alerts:**
- CPU >80% for 10 min
- RAM >90% for 5 min
- Disk >90% full

---

### 8.2. Application Logs

```bash
# Docker logs
docker compose logs -f app

# NGINX access logs
tail -f /var/log/nginx/access.log

# NGINX error logs
tail -f /var/log/nginx/error.log

# System logs
journalctl -f -u docker
```

---

### 8.3. Automated Backups

**Hetzner Backups (enabled):**
- Daily snapshots: 03:00 AM UTC
- Retention: 7 days
- Storage: Hetzner datacenter (same region)

**Manual Snapshot (Ğ¿ĞµÑ€ĞµĞ´ Ğ²Ğ°Ğ¶Ğ½Ñ‹Ğ¼ update):**
```bash
# Via Hetzner Console:
Servers â†’ trustcheck-prod-phase1 â†’ Actions â†’ Create Snapshot

# Snapshot cost: â‚¬0.011/GB/month
# 20GB server = â‚¬0.22/month
```

---

### 8.4. Database Backups (Supabase)

**Supabase Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸:**
- Daily backups (free tier: 7 days retention)
- Point-in-time recovery (Pro plan: 30 days)

**Manual backup:**
```bash
# pg_dump Ñ‡ĞµÑ€ĞµĞ· Supabase CLI
supabase db dump > backup-$(date +%Y%m%d).sql
```

---

## 9. ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (Upgrade)

### 9.1. Rescale Server (Ğ±ĞµĞ· Ğ¿ĞµÑ€ĞµÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸!)

**Hetzner Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚ upgrade Ğ‘Ğ•Ğ— Ğ¿Ğ¾Ñ‚ĞµÑ€Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…:**

```
Servers â†’ trustcheck-prod-phase1 â†’ Power Off
â†’ Actions â†’ Rescale
â†’ Select new type (CPX11, CPX21, etc.)
â†’ Confirm

Downtime: ~2 minutes (automatic reboot)
```

**Ğ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ Ğ°Ğ¿Ğ³Ñ€ĞµĞ¹Ğ´Ñ‹:**

| From | To | vCPU | RAM | SSD | Price Î” |
|------|-----|------|-----|-----|---------|
| CX11 | CPX11 | 1â†’2 | 2GBâ†’2GB | 20GBâ†’40GB | +â‚¬1.20/month |
| CPX11 | CPX21 | 2â†’3 | 2GBâ†’4GB | 40GBâ†’80GB | +â‚¬4.00/month |
| CPX21 | CPX31 | 3â†’4 | 4GBâ†’8GB | 80GBâ†’160GB | +â‚¬8.50/month |

**Ğ’ĞĞ–ĞĞ:** Downgrade Ñ‚Ğ¾Ğ¶Ğµ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶ĞµĞ½ (ĞµÑĞ»Ğ¸ SSD usage < Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Ğ»Ğ¸Ğ¼Ğ¸Ñ‚).

---

### 9.2. Horizontal Scaling (Load Balancer)

**ĞšĞ¾Ğ³Ğ´Ğ° Ğ½ÑƒĞ¶Ğ½Ğ¾:**
- >10,000 concurrent users
- Need zero-downtime deployments
- Geographic distribution

**Setup:**

1. **Create Load Balancer:**
   - Hetzner Console â†’ Load Balancers â†’ Create
   - Type: LB11 (â‚¬5.39/month)
   - Algorithm: Round Robin
   - Health Check: `/health` endpoint

2. **Add Target Servers:**
   - Web1: `trustcheck-prod-web1` (CPX21)
   - Web2: `trustcheck-prod-web2` (CPX21)

3. **DNS Update:**
   - Point `trustcheck.co.il` â†’ Load Balancer IP

**Cost:** â‚¬5.39/month + (â‚¬8.99 Ã— 2) = **â‚¬23.37/month**

---

## 10. Troubleshooting

### 10.1. Server Ğ½Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚

**ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° 1: Ping**
```powershell
ping 88.99.123.45
```
- âœ… Reply: Server alive
- âŒ Timeout: Server down OR firewall issue

**ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° 2: SSH Connection**
```powershell
ssh -v root@88.99.123.45
```
- âŒ `Connection refused`: SSH service down
- âŒ `Connection timed out`: Firewall blocking port 22

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:**
1. Hetzner Console â†’ Servers â†’ Power On (ĞµÑĞ»Ğ¸ off)
2. Hetzner Console â†’ VNC Console (emergency access)

---

### 10.2. High CPU Usage

```bash
# Check top processes
htop

# Expected:
# node (Next.js app): 30-50%
# nginx: 5-10%
# docker: 10-20%

# If >80% sustained:
# â†’ Upgrade to CPX11 (2 vCPU)
```

---

### 10.3. Out of Disk Space

```bash
# Check disk usage
df -h

# Expected:
# /dev/sda1       20G   12G   7.0G  64% /

# If >90%:
# 1. Clean Docker images
docker system prune -a --volumes

# 2. Rotate logs
truncate -s 0 /var/log/nginx/*.log

# 3. Delete old backups
rm -rf /opt/trustcheck/backups/*.sql
```

---

### 10.4. SSL Certificate Expired

```bash
# Check expiry date
openssl x509 -in /opt/trustcheck/ssl/fullchain.pem -noout -enddate

# If expired:
certbot renew --force-renewal
cp /etc/letsencrypt/live/trustcheck.co.il/*.pem /opt/trustcheck/ssl/
docker compose restart nginx
```

---

## ğŸ“Š Ğ§ĞµĞºĞ»Ğ¸ÑÑ‚: Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ Ğº Production

### Phase 1 (MVP) Checklist:

- [ ] âœ… Hetzner server created (CX11, Nuremberg)
- [ ] âœ… Ubuntu 24.04 installed + updated
- [ ] âœ… Firewall configured (UFW + Hetzner Firewall)
- [ ] âœ… Fail2Ban enabled (SSH brute-force protection)
- [ ] âœ… Docker + Docker Compose installed
- [ ] âœ… Application deployed (Next.js + NGINX)
- [ ] âœ… SSL certificate installed (Let's Encrypt)
- [ ] âœ… Domain pointing to server (Cloudflare DNS)
- [ ] âœ… Backups enabled (daily automated)
- [ ] âœ… Monitoring setup (Hetzner Console + Sentry)
- [ ] âœ… Environment variables secured (.env.production)
- [ ] âœ… Health check endpoint working (`/health`)
- [ ] âœ… Rate limiting configured (10 req/sec)
- [ ] âœ… Logs rotation setup (max 10GB)
- [ ] âœ… Auto-renewal cron job (SSL certificates)

**Ğ•ÑĞ»Ğ¸ Ğ²ÑĞµ âœ… â†’ Ğ“ĞĞ¢ĞĞ’Ğ Ğš Ğ—ĞĞŸĞ£Ğ¡ĞšĞ£!** ğŸš€

---

## ğŸ’° Ğ˜Ñ‚Ğ¾Ğ³Ğ¾Ğ²Ğ°Ñ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ²Ğ»Ğ°Ğ´ĞµĞ½Ğ¸Ñ (TCO)

### Year 1 Cost Projection:

| Period | Server | Backup | IPv4 | Total/month | Duration | Subtotal |
|--------|--------|--------|------|-------------|----------|----------|
| **Phase 1** | CX11 (â‚¬3.79) | â‚¬0.76 | â‚¬0.59 | **â‚¬5.14** | 3 months | â‚¬15.42 |
| **Phase 2** | CPX11 (â‚¬4.99) | â‚¬1.00 | â‚¬0.59 | **â‚¬6.58** | 2 months | â‚¬13.16 |
| **Phase 3** | CPX21 (â‚¬8.99) | â‚¬1.80 | â‚¬0.59 | **â‚¬11.38** | 7 months | â‚¬79.66 |

**Total Year 1:** â‚¬108.24 (~â‚ª398)

**Ğ¡Ñ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ Ñ Ğ°Ğ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ°Ğ¼Ğ¸:**

| Provider | Config | Year 1 Cost | Difference |
|----------|--------|-------------|------------|
| **Hetzner** | CX11â†’CPX21 | **â‚¬108** (~â‚ª398) | Baseline |
| Vercel Pro | 1 project | â‚¬240 (~â‚ª883) | +122% ğŸ”´ |
| AWS t3.small | 1 EC2 | ~$300 (~â‚ª1,100) | +177% ğŸ”´ |
| DigitalOcean | 2GB Droplet | $144 (~â‚ª530) | +33% ğŸŸ¡ |

**Ğ’ĞµÑ€Ğ´Ğ¸ĞºÑ‚:** Hetzner â€” **ÑĞ°Ğ¼Ñ‹Ğ¹ Ğ´ĞµÑˆÑ‘Ğ²Ñ‹Ğ¹** Ğ´Ğ»Ñ ĞµĞ²Ñ€Ğ¾Ğ¿ĞµĞ¹ÑĞºĞ¾Ğ¹ Ğ¸Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ Ñ GDPR compliance.

---

## ğŸ“š ĞŸĞ¾Ğ»ĞµĞ·Ğ½Ñ‹Ğµ ÑÑÑ‹Ğ»ĞºĞ¸

- **Hetzner Console:** https://console.hetzner.com/
- **Hetzner Docs:** https://docs.hetzner.com/cloud/
- **Hetzner API:** https://docs.hetzner.cloud/
- **Hetzner Status:** https://status.hetzner.com/
- **Community Forum:** https://community.hetzner.com/
- **Support:** https://www.hetzner.com/support/

---

**Prepared by:** TrustCheck DevOps Team  
**Date:** 22 Ğ´ĞµĞºĞ°Ğ±Ñ€Ñ 2025  
**Version:** 1.0 (Production Ready)  
**Based on:** Hetzner Cloud Ğ¾Ñ„Ğ¸Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ + best practices
