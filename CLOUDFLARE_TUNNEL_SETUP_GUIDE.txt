â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CLOUDFLARE TUNNEL: ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ´Ğ»Ñ trustcheck.co.il
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Account ID: 20f5ee00fbbdf9c8b779161ea33c21cb
Zone ID: 736fb1cca4558c8a7f36adf14e2b153b
Server: 46.224.147.252 (Hetzner CX23)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ¨ĞĞ“ 1: Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Tunnel Ğ² Cloudflare Dashboard
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. ĞÑ‚ĞºÑ€Ğ¾Ğ¹ URL:
   https://one.dash.cloudflare.com/20f5ee00fbbdf9c8b779161ea33c21cb/networks/tunnels

2. ĞĞ°Ğ¶Ğ¼Ğ¸ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ: "Create a tunnel"

3. Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸: "Cloudflared"

4. ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ tunnel: trustcheck-tunnel

5. ĞĞ°Ğ¶Ğ¼Ğ¸: "Save tunnel"

6. Cloudflare Ğ¿Ğ¾ĞºĞ°Ğ¶ĞµÑ‚ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñƒ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸, Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€:
   
   cloudflared service install eyJhIjoiN2Y3...Ğ´Ğ»Ğ¸Ğ½Ğ½Ñ‹Ğ¹ Ñ‚Ğ¾ĞºĞµĞ½...

   Ğ¡ĞšĞĞŸĞ˜Ğ Ğ£Ğ™ ÑÑ‚Ğ¾Ñ‚ Ñ‚Ğ¾ĞºĞµĞ½ (Ğ²ÑÑ‘ Ğ¿Ğ¾ÑĞ»Ğµ "install ")

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ¨ĞĞ“ 2: Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ tunnel Ğ½Ğ° ÑĞµÑ€Ğ²ĞµÑ€Ğµ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ğ½Ğ° ÑĞµÑ€Ğ²ĞµÑ€Ğµ (Ñ‡ĞµÑ€ĞµĞ· SSH):

# ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡Ğ¸ÑÑŒ Ğº ÑĞµÑ€Ğ²ĞµÑ€Ñƒ
ssh -i C:\Users\zakon\.ssh\trustcheck_hetzner root@46.224.147.252

# Ğ’ÑÑ‚Ğ°Ğ²ÑŒ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñƒ Ğ¾Ñ‚ Cloudflare (Ñ Ñ‚Ğ²Ğ¾Ğ¸Ğ¼ Ñ‚Ğ¾ĞºĞµĞ½Ğ¾Ğ¼):
cloudflared service install <Ğ¢Ğ£Ğ¢_Ğ’Ğ¡Ğ¢ĞĞ’Ğ¬_Ğ¢ĞĞšĞ•Ğ>

# Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸ ÑĞµÑ€Ğ²Ğ¸Ñ
systemctl start cloudflared
systemctl enable cloudflared

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ ÑÑ‚Ğ°Ñ‚ÑƒÑ
systemctl status cloudflared

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ¨ĞĞ“ 3: ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ (Public Hostname)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ğ’ĞµÑ€Ğ½Ğ¸ÑÑŒ Ğ² Cloudflare Dashboard (Ğ²ĞºĞ»Ğ°Ğ´ĞºĞ° tunnel):

1. ĞŸĞµÑ€ĞµĞ¹Ğ´Ğ¸ Ğ½Ğ° Ğ²ĞºĞ»Ğ°Ğ´ĞºÑƒ: "Public Hostname"

2. ĞĞ°Ğ¶Ğ¼Ğ¸: "Add a public hostname"

3. Ğ—Ğ°Ğ¿Ğ¾Ğ»Ğ½Ğ¸ Ñ„Ğ¾Ñ€Ğ¼Ñƒ #1:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Subdomain: (Ğ¾ÑÑ‚Ğ°Ğ²ÑŒ Ğ¿ÑƒÑÑ‚Ñ‹Ğ¼)              â”‚
   â”‚ Domain: trustcheck.co.il                â”‚
   â”‚ Path: (Ğ¾ÑÑ‚Ğ°Ğ²ÑŒ Ğ¿ÑƒÑÑ‚Ñ‹Ğ¼)                   â”‚
   â”‚                                         â”‚
   â”‚ Type: HTTP                              â”‚
   â”‚ URL: localhost:3000                     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

4. ĞĞ°Ğ¶Ğ¼Ğ¸: "Save hostname"

5. Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒ ĞµÑ‰Ñ‘ Ğ¾Ğ´Ğ¸Ğ½ hostname Ğ´Ğ»Ñ www:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Subdomain: www                          â”‚
   â”‚ Domain: trustcheck.co.il                â”‚
   â”‚ Path: (Ğ¾ÑÑ‚Ğ°Ğ²ÑŒ Ğ¿ÑƒÑÑ‚Ñ‹Ğ¼)                   â”‚
   â”‚                                         â”‚
   â”‚ Type: HTTP                              â”‚
   â”‚ URL: localhost:3000                     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

6. ĞĞ°Ğ¶Ğ¼Ğ¸: "Save hostname"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ¨ĞĞ“ 4: ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ DNS Ğ·Ğ°Ğ¿Ğ¸ÑĞ¸ (ĞĞ’Ğ¢ĞĞœĞĞ¢Ğ˜Ğ§Ğ•Ğ¡ĞšĞ˜)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Cloudflare ĞĞ’Ğ¢ĞĞœĞĞ¢Ğ˜Ğ§Ğ•Ğ¡ĞšĞ˜ ÑĞ¾Ğ·Ğ´Ğ°ÑÑ‚ CNAME Ğ·Ğ°Ğ¿Ğ¸ÑĞ¸:

trustcheck.co.il     CNAME   <tunnel-id>.cfargotunnel.com
www.trustcheck.co.il CNAME   <tunnel-id>.cfargotunnel.com

ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ Ğ²: Cloudflare Dashboard â†’ DNS Records

Ğ•ÑĞ»Ğ¸ Ğ·Ğ°Ğ¿Ğ¸ÑĞ¸ ĞĞ• ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ñ‹ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸:
1. ĞŸĞµÑ€ĞµĞ¹Ğ´Ğ¸: DNS â†’ Records
2. Ğ£Ğ´Ğ°Ğ»Ğ¸ ÑÑ‚Ğ°Ñ€Ñ‹Ğµ A Ğ·Ğ°Ğ¿Ğ¸ÑĞ¸ (@ Ğ¸ www â†’ 46.224.147.252)
3. Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒ CNAME:
   - @ â†’ <tunnel-id>.cfargotunnel.com (ğŸŸ  Proxied)
   - www â†’ <tunnel-id>.cfargotunnel.com (ğŸŸ  Proxied)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ¨ĞĞ“ 5: ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñƒ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ğ§ĞµÑ€ĞµĞ· 1-2 Ğ¼Ğ¸Ğ½ÑƒÑ‚Ñ‹ Ğ¿Ğ¾ÑĞ»Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸:

curl https://trustcheck.co.il

Ğ˜Ğ»Ğ¸ Ğ¾Ñ‚ĞºÑ€Ğ¾Ğ¹ Ğ² Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğµ:
https://trustcheck.co.il
https://www.trustcheck.co.il

Ğ”Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚ÑŒÑÑ ÑĞ°Ğ¹Ñ‚ Ñ ğŸ”’ SSL!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ĞŸĞ Ğ•Ğ˜ĞœĞ£Ğ©Ğ•Ğ¡Ğ¢Ğ’Ğ TUNNEL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… SSL/TLS Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ (Ğ½Ğµ Ğ½ÑƒĞ¶ĞµĞ½ Let's Encrypt)
âœ… ĞĞµ Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ğ¾Ñ€Ñ‚Ñ‹ 80/443
âœ… DDoS Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ¸Ğ· ĞºĞ¾Ñ€Ğ¾Ğ±ĞºĞ¸
âœ… ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑĞµÑ€Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ğ¾Ğ²
âœ… Zero Trust Access (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
âœ… ĞœĞ¾Ğ¶Ğ½Ğ¾ Ğ·Ğ°ĞºÑ€Ñ‹Ñ‚ÑŒ firewall Ğ¿Ğ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ĞšĞĞœĞĞĞ”Ğ« Ğ”Ğ›Ğ¯ Ğ£ĞŸĞ ĞĞ’Ğ›Ğ•ĞĞ˜Ğ¯
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ°Ñ‚ÑƒÑ
systemctl status cloudflared

# ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ
systemctl restart cloudflared

# Ğ›Ğ¾Ğ³Ğ¸
journalctl -u cloudflared -f

# ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ
systemctl stop cloudflared

# Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ tunnel
cloudflared service uninstall

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TROUBLESHOOTING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°: Tunnel Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡Ñ‘Ğ½, Ğ½Ğ¾ ÑĞ°Ğ¹Ñ‚ Ğ½Ğµ Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ
Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:
  1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ, Ñ‡Ñ‚Ğ¾ Next.js Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚: curl http://localhost:3000
  2. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ Docker: docker ps | grep trustcheck-app
  3. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ Ğ»Ğ¾Ğ³Ğ¸ tunnel: journalctl -u cloudflared -f

ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°: "Bad Gateway" Ğ¸Ğ»Ğ¸ 502 Ğ¾ÑˆĞ¸Ğ±ĞºĞ°
Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:
  1. Next.js ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ Ğ½Ğµ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½
  2. ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸: docker-compose restart app
  3. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ Ğ¿Ğ¾Ñ€Ñ‚ 3000: netstat -tlnp | grep 3000

ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°: Tunnel Ğ½Ğµ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ÑÑ
Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:
  1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ Ñ‚Ğ¾ĞºĞµĞ½ (Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¸ÑÑ‚Ñ‘Ğº)
  2. ĞŸĞµÑ€ĞµÑĞ¾Ğ·Ğ´Ğ°Ğ¹ tunnel Ğ² Dashboard
  3. Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸ Ğ·Ğ°Ğ½Ğ¾Ğ²Ğ¾: cloudflared service install <Ğ½Ğ¾Ğ²Ñ‹Ğ¹_Ñ‚Ğ¾ĞºĞµĞ½>

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾! ĞŸĞ¾ÑĞ»Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ https://trustcheck.co.il Ğ±ÑƒĞ´ĞµÑ‚ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ! ğŸ‰
