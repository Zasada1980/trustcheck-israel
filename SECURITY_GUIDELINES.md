# Security Guidelines - TrustCheck Israel

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û: –ó–∞—â–∏—Ç–∞ API –∫–ª—é—á–µ–π

### –ü—Ä–æ–±–ª–µ–º–∞
GitHub –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞–Ω–∏—Ä—É–µ—Ç –≤—Å–µ –∫–æ–º–º–∏—Ç—ã –Ω–∞ –Ω–∞–ª–∏—á–∏–µ API –∫–ª—é—á–µ–π –∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∏—Ö –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏.

### ‚úÖ –ü—Ä–∞–≤–∏–ª–∞ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û):

1. **–ù–ò–ö–û–ì–î–ê –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å `.env` —Ñ–∞–π–ª—ã**
   - ‚úÖ –£–∂–µ –≤ `.gitignore`
   - –ü—Ä–æ–≤–µ—Ä–∫–∞: `git ls-files | grep ".env"` –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ `.env.example`

2. **–ù–ò–ö–û–ì–î–ê –Ω–µ –≤–∫–ª—é—á–∞—Ç—å –∫–ª—é—á–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é**
   - ‚ùå –ù–ï —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ñ–∞–π–ª—ã —Ç–∏–ø–∞ `*_API_KEY_*.md`
   - ‚ùå –ù–ï –≤–∫–ª—é—á–∞—Ç—å –∫–ª—é—á–∏ –≤ –æ—Ç—á–µ—Ç—ã
   - ‚úÖ –ü–∞—Ç—Ç–µ—Ä–Ω—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `.gitignore`:
     - `*_FIX_REPORT.md`
     - `*_KEY_*.md`
     - `GOOGLE_API_KEY_FIX_REPORT.md`

3. **–ù–ò–ö–û–ì–î–ê –Ω–µ —Ö–∞—Ä–¥–∫–æ–¥–∏—Ç—å –∫–ª—é—á–∏ –≤ –∫–æ–¥–µ**
   - ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ `process.env.GOOGLE_API_KEY`
   - ‚ùå –ù–ï –ø–∏—Å–∞—Ç—å `const API_KEY = "AIzaSy..."`

4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º:**
   ```bash
   # –ü–æ–∏—Å–∫ –∫–ª—é—á–µ–π –≤ staged —Ñ–∞–π–ª–∞—Ö:
   git diff --cached | grep -i "AIzaSy"
   
   # –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ - –ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å!
   ```

### üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–π

**–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞:**
```bash
E:\SBF\.env  # ‚úÖ –ù–µ –≤ Git
```

**–ü—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä:**
```bash
/root/trustcheck/.env  # ‚úÖ –ù–µ –≤ Git
```

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
```bash
ssh root@46.224.147.252
cd /root/trustcheck
nano .env  # –ó–∞–º–µ–Ω–∏—Ç–µ GOOGLE_API_KEY=–Ω–æ–≤—ã–π_–∫–ª—é—á
docker compose restart app
```

### üìã –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –∫–ª—é—á —É—Ç–µ–∫:

1. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–æ–∑–≤–∞—Ç—å** —Å—Ç–∞—Ä—ã–π –∫–ª—é—á –≤ Google AI Studio
2. **–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π** –∫–ª—é—á —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏:
   - API restrictions: Gemini API
   - Application restrictions: IP address (46.224.147.252)
3. **–û–±–Ω–æ–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ:** `E:\SBF\.env`
4. **–û–±–Ω–æ–≤–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:** `/root/trustcheck/.env`
5. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å:** `docker compose restart app`
6. **–£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª –∏–∑ Git** (–µ—Å–ª–∏ –ø–æ–ø–∞–ª):
   ```bash
   git rm --cached LEAKED_FILE.md
   git commit -m "security: Remove leaked credentials"
   git push --force origin main
   ```

### üö® –ò—Å—Ç–æ—Ä–∏—è —É—Ç–µ—á–µ–∫:

**23.12.2025 (1):** 
- –ö–ª—é—á `AIzaSyCPqzIU9SwB8Qv-p6kcQIC4dj-TKoNYX-M` —É—Ç–µ–∫ —á–µ—Ä–µ–∑ `GOOGLE_API_KEY_FIX_REPORT.md`
- –†–µ—à–µ–Ω–∏–µ: –£–¥–∞–ª–µ–Ω —Ñ–∞–π–ª, –¥–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ç—Ç–µ—Ä–Ω –≤ `.gitignore`, —Å–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –∫–ª—é—á
- –°—Ç–∞—Ç—É—Å: ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ (–∫–æ–º–º–∏—Ç 6e2edb7)

**23.12.2025 (2):**
- –ö–ª—é—á `AIzaSyBNDWXw8hQ4hZRkSkxBLI7rE2zoWXSkp0s` - —Ç–µ–∫—É—â–∏–π –∞–∫—Ç–∏–≤–Ω—ã–π
- –ó–∞—â–∏—Ç–∞: –ü–∞—Ç—Ç–µ—Ä–Ω—ã –≤ `.gitignore`, –ù–ï –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

### üõ°Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞ (TODO):

- [ ] GitHub Secrets scanning alerts
- [ ] Pre-commit hooks –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–ª—é—á–µ–π
- [ ] Environment variables —á–µ—Ä–µ–∑ Docker secrets
- [ ] Key rotation –∫–∞–∂–¥—ã–µ 90 –¥–Ω–µ–π
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 23.12.2025  
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** AI Agent + User
